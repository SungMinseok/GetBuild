# QuickBuild 빌드 가이드

## 📋 문제 해결 완료

### 발생했던 오류
```
ModuleNotFoundError: No module named 'pkg_resources'
```

### 해결 방법
1. ✅ `requirements.txt`에 `setuptools>=65.0.0` 추가
2. ✅ 모든 `.spec` 파일에 `pkg_resources`, `setuptools` hiddenimports 추가
3. ✅ `hook-pkg_resources.py` 생성 (PyInstaller hook)
4. ✅ `build_release.py` 개선 (에러 처리, Windows 권한 문제 해결)

## 🚀 빌드 방법

### 1단계: 패키지 설치
```bash
pip install -r requirements.txt
```

### 2단계: 이전 빌드 정리 (선택사항)
```bash
# Windows
rd /s /q build dist
del *.spec

# 또는 Python으로
python -c "import shutil; shutil.rmtree('build', ignore_errors=True); shutil.rmtree('dist', ignore_errors=True)"
```

### 3단계: 빌드 실행
```bash
# 방법 1: 자동화 스크립트 (권장)
python build_release.py

# 방법 2: 직접 PyInstaller 실행
pyinstaller --clean index.spec
```

## 📦 빌드 결과

### 성공 시 생성되는 파일:
```
dist/
  └─ QuickBuild_3.0-25.10.27.1635.zip
     ├─ QuickBuild.exe
     └─ version.json
```

## 🔍 트러블슈팅

### 문제 1: `pkg_resources` 오류
**해결**: 이미 수정됨. setuptools가 requirements.txt에 포함됨.

### 문제 2: `selenium` 모듈 없음
**해결**: 이미 수정됨. spec 파일에 selenium hiddenimports 추가됨.

### 문제 3: 빌드 폴더 삭제 안됨 (권한 오류)
**해결**: `build_release.py`의 `force_remove_directory()` 함수가 자동으로 처리함.

### 문제 4: PyInstaller를 찾을 수 없음
**해결**: 
```bash
pip install --upgrade pyinstaller
```

### 문제 5: 빌드는 되지만 실행 시 오류
**확인 사항**:
1. `version.json` 파일이 프로젝트 루트에 있는지 확인
2. `qss/` 폴더가 있는지 확인
3. `ico.ico` 파일이 있는지 확인

## 📝 spec 파일 구조

### hiddenimports에 포함된 모듈:
- ✅ pkg_resources (setuptools)
- ✅ selenium (웹 자동화)
- ✅ PyQt5 (GUI)
- ✅ core.* (프로젝트 내부 모듈)
- ✅ ui.* (UI 모듈)
- ✅ makelog, exporter, updater

### datas에 포함된 파일:
- ✅ version.json
- ✅ qss/ (스타일시트)
- ✅ ico.ico (아이콘)

## 🎯 빌드 후 확인사항

### 1. EXE 실행 테스트
```bash
cd dist
QuickBuild.exe
```

### 2. 로그 확인
실행 후 다음 파일들을 확인:
- `log/log_YYYYMMDD.txt`
- `execute.log`

### 3. 버전 확인
- 프로그램 실행 후 상단 메뉴의 버전 표시 확인
- 메뉴 > About 클릭하여 버전 정보 확인

## 🔧 개발 모드 vs 릴리즈 모드

### 개발 모드 (Python 직접 실행)
```bash
python index.py
# 또는
python index_v2.py
```
- 창 제목에 `[개발용]` 표시됨
- 디버깅 용이

### 릴리즈 모드 (EXE 실행)
```bash
dist/QuickBuild.exe
```
- 단일 실행 파일
- 배포 가능

## 📚 참고 파일

- `build_release.py`: 자동화 빌드 스크립트
- `index.spec`: PyInstaller 설정 파일
- `QuickBuild.spec`: 대체 spec 파일
- `hook-pkg_resources.py`: PyInstaller hook
- `requirements.txt`: 필수 패키지 목록



