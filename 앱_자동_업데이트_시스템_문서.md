# ì•± ìë™ ì—…ë°ì´íŠ¸ ì‹œìŠ¤í…œ êµ¬ì¡° ë¬¸ì„œ

## ğŸ“‹ ëª©ì°¨
1. [ì‹œìŠ¤í…œ ê°œìš”](#ì‹œìŠ¤í…œ-ê°œìš”)
2. [updater.py ìƒì„¸ ë¶„ì„](#updaterpy-ìƒì„¸-ë¶„ì„)
3. [update_dialogs.py ìƒì„¸ ë¶„ì„](#update_dialogspy-ìƒì„¸-ë¶„ì„)
4. [main.py í†µí•© ë°©ë²•](#mainpy-í†µí•©-ë°©ë²•)
5. [ì—…ë°ì´íŠ¸ í”„ë¡œì„¸ìŠ¤ í”Œë¡œìš°](#ì—…ë°ì´íŠ¸-í”„ë¡œì„¸ìŠ¤-í”Œë¡œìš°)
6. [ë‹¤ë¥¸ í”„ë¡œì íŠ¸ ì ìš© ê°€ì´ë“œ](#ë‹¤ë¥¸-í”„ë¡œì íŠ¸-ì ìš©-ê°€ì´ë“œ)

---

## ì‹œìŠ¤í…œ ê°œìš”

### ëª©ì 
- GitHub Releasesë¥¼ í†µí•œ ìë™ ì—…ë°ì´íŠ¸
- ì‚¬ìš©ì ì¹œí™”ì ì¸ ì—…ë°ì´íŠ¸ ì•Œë¦¼ ë° ì§„í–‰ë¥  í‘œì‹œ
- ì•ˆì „í•œ íŒŒì¼ êµì²´ ë° ìë™ ì¬ì‹œì‘

### í•µì‹¬ ì»´í¬ë„ŒíŠ¸
```
í”„ë¡œì íŠ¸ ë£¨íŠ¸/
â”œâ”€â”€ updater.py              # ì—…ë°ì´íŠ¸ ë¡œì§ (ì²´í¬/ë‹¤ìš´ë¡œë“œ/ì„¤ì¹˜)
â”œâ”€â”€ update_dialogs.py       # PyQt5 ë‹¤ì´ì–¼ë¡œê·¸ (ì•Œë¦¼/ì§„í–‰ë¥ /About)
â”œâ”€â”€ version.json            # í˜„ì¬ ë²„ì „ ì •ë³´
â”œâ”€â”€ main.py                 # ì•± ë©”ì¸ (ì—…ë°ì´íŠ¸ ì‹œìŠ¤í…œ í†µí•©)
â””â”€â”€ update_installer.bat    # ì„¤ì¹˜ ë°°ì¹˜ ìŠ¤í¬ë¦½íŠ¸ (ìë™ ìƒì„±)
```

### ê¸°ìˆ  ìŠ¤íƒ
- **ë²„ì „ ì²´í¬**: GitHub API
- **ë‹¤ìš´ë¡œë“œ**: requests (ìŠ¤íŠ¸ë¦¬ë°)
- **ë²„ì „ ë¹„êµ**: packaging.version
- **UI**: PyQt5
- **ì„¤ì¹˜**: Windows Batch Script

### ì—…ë°ì´íŠ¸ ë°©ì‹
1. **ë²„ì „ ì²´í¬**: GitHub Releases APIì—ì„œ ìµœì‹  ë²„ì „ í™•ì¸
2. **ë‹¤ìš´ë¡œë“œ**: ZIP íŒŒì¼ì„ ì•± í´ë”ì— ë‹¤ìš´ë¡œë“œ
3. **ì••ì¶• í•´ì œ**: ì„ì‹œ í´ë”ì— ì••ì¶• í•´ì œ
4. **ë°°ì¹˜ ìŠ¤í¬ë¦½íŠ¸**: íŒŒì¼ êµì²´ ë° ì•± ì¬ì‹œì‘
5. **ì •ë¦¬**: ì„ì‹œ íŒŒì¼ ì‚­ì œ

---

## updater.py ìƒì„¸ ë¶„ì„

### 1. UpdateChecker í´ë˜ìŠ¤

#### 1.1 ë²„ì „ ì²´í¬
```python
class UpdateChecker:
    """ë²„ì „ ì²´í¬ í´ë˜ìŠ¤"""

    def __init__(self, version_file: str = "version.json"):
        self.version_file = version_file
        self.current_version = self._load_current_version()
        self.main_app = None

    def _load_current_version(self) -> str:
        """í˜„ì¬ ë²„ì „ ë¡œë“œ (version.json)"""
        try:
            if os.path.exists(self.version_file):
                with open(self.version_file, 'r', encoding='utf-8') as f:
                    data = json.load(f)
                    return data.get('version', '0.0.0')
        except Exception as e:
            print(f"ë²„ì „ íŒŒì¼ ë¡œë“œ ì‹¤íŒ¨: {e}")
        return '0.0.0'

    def check_for_updates(self) -> Tuple[bool, Optional[Dict[str, Any]], Optional[str]]:
        """
        GitHub Releasesì—ì„œ ì—…ë°ì´íŠ¸ í™•ì¸
        
        Returns:
            (has_update, update_info, error_msg)
        """
        try:
            # GitHub API í˜¸ì¶œ
            api_url = "https://api.github.com/repos/USERNAME/REPO/releases/latest"
            response = requests.get(api_url, timeout=10)
            response.raise_for_status()

            release_data = response.json()
            latest_version = release_data['tag_name'].lstrip('v')  # "v1.1.0" â†’ "1.1.0"

            # ë²„ì „ ë¹„êµ (Semantic Versioning)
            if version_parser.parse(latest_version) > version_parser.parse(self.current_version):
                # ZIP íŒŒì¼ ì°¾ê¸°
                download_url = None
                for asset in release_data.get('assets', []):
                    if asset['name'].endswith('.zip'):
                        download_url = asset['browser_download_url']
                        break

                if not download_url:
                    return False, None, "ë‹¤ìš´ë¡œë“œ ê°€ëŠ¥í•œ ZIP íŒŒì¼ì´ ì—†ìŠµë‹ˆë‹¤."

                # ì—…ë°ì´íŠ¸ ì •ë³´ êµ¬ì„±
                update_info = {
                    'version': latest_version,
                    'download_url': download_url,
                    'release_notes': release_data.get('body', ''),
                    'published_at': release_data.get('published_at', '')
                }

                return True, update_info, None
            else:
                return False, None, None

        except requests.exceptions.RequestException as e:
            return False, None, f"ë„¤íŠ¸ì›Œí¬ ì˜¤ë¥˜: {e}"
        except Exception as e:
            return False, None, f"ì—…ë°ì´íŠ¸ í™•ì¸ ì¤‘ ì˜¤ë¥˜: {e}"
```

**í•µì‹¬ ë¡œì§:**
- GitHub APIì˜ `/repos/{owner}/{repo}/releases/latest` ì—”ë“œí¬ì¸íŠ¸ ì‚¬ìš©
- `tag_name`ì—ì„œ ë²„ì „ ì¶”ì¶œ (v ì ‘ë‘ì‚¬ ì œê±°)
- `packaging.version`ìœ¼ë¡œ ë²„ì „ ë¹„êµ (SemVer ì§€ì›)
- ZIP íŒŒì¼ì˜ `browser_download_url` ì¶”ì¶œ

**ë°˜í™˜ê°’:**
- `has_update` (bool): ì—…ë°ì´íŠ¸ ê°€ëŠ¥ ì—¬ë¶€
- `update_info` (dict): ë²„ì „, URL, ë¦´ë¦¬ì¦ˆ ë…¸íŠ¸
- `error_msg` (str): ì˜¤ë¥˜ ë©”ì‹œì§€ (ìˆì„ ê²½ìš°)

### 2. UpdateDownloader í´ë˜ìŠ¤

#### 2.1 ë‹¤ìš´ë¡œë“œ
```python
class UpdateDownloader:
    """ë‹¤ìš´ë¡œë“œ í´ë˜ìŠ¤"""

    def __init__(self):
        self.main_app = None
        self.cancel_flag = False

    def download(self, url: str, progress_callback=None) -> Optional[str]:
        """
        ZIP íŒŒì¼ì„ ì•± í´ë”ì— ë‹¤ìš´ë¡œë“œ
        
        Args:
            url: ë‹¤ìš´ë¡œë“œ URL
            progress_callback: ì§„í–‰ë¥  ì½œë°± í•¨ìˆ˜(received, total)
        
        Returns:
            ë‹¤ìš´ë¡œë“œëœ íŒŒì¼ ê²½ë¡œ (ì‹¤íŒ¨ ì‹œ None)
        """
        download_path = None
        try:
            # ì•± ê²½ë¡œ ê²°ì • (EXE ë˜ëŠ” ìŠ¤í¬ë¦½íŠ¸)
            if getattr(sys, 'frozen', False):
                base_dir = os.path.dirname(sys.executable)
            else:
                base_dir = os.path.abspath(os.path.dirname(__file__))

            download_path = os.path.join(base_dir, "BundleEditor_update.zip")

            # ìŠ¤íŠ¸ë¦¬ë° ë‹¤ìš´ë¡œë“œ (íƒ€ì„ì•„ì›ƒ: ì—°ê²° 30ì´ˆ, ì½ê¸° 300ì´ˆ)
            response = requests.get(url, stream=True, timeout=(30, 300))
            response.raise_for_status()

            total_size = int(response.headers.get('content-length', 0))
            downloaded = 0

            # ì²­í¬ ë‹¨ìœ„ ë‹¤ìš´ë¡œë“œ
            with open(download_path, 'wb') as f:
                for chunk in response.iter_content(chunk_size=8192):
                    # ì·¨ì†Œ í™•ì¸
                    if self.cancel_flag:
                        if os.path.exists(download_path):
                            os.remove(download_path)
                        return None
                    
                    if chunk:
                        f.write(chunk)
                        downloaded += len(chunk)
                        
                        # ì§„í–‰ë¥  ì½œë°±
                        if progress_callback:
                            progress_callback(downloaded, total_size)

            # ë‹¤ìš´ë¡œë“œ í¬ê¸° ê²€ì¦
            if total_size > 0 and downloaded < total_size:
                if os.path.exists(download_path):
                    os.remove(download_path)
                return None

            # Windows Defender ì°¨ë‹¨ ë°©ì§€ (Zone.Identifier ì œê±°)
            try:
                zone_file = download_path + ":Zone.Identifier"
                if os.path.exists(zone_file):
                    os.remove(zone_file)
            except:
                pass

            return download_path

        except Exception as e:
            if download_path and os.path.exists(download_path):
                os.remove(download_path)
            return None

    def cancel(self):
        """ë‹¤ìš´ë¡œë“œ ì·¨ì†Œ"""
        self.cancel_flag = True
```

**í•µì‹¬ ê¸°ëŠ¥:**
1. **ìŠ¤íŠ¸ë¦¬ë° ë‹¤ìš´ë¡œë“œ**: ë©”ëª¨ë¦¬ íš¨ìœ¨ì 
2. **ì§„í–‰ë¥  ì½œë°±**: UI ì—…ë°ì´íŠ¸ìš©
3. **ì·¨ì†Œ ê¸°ëŠ¥**: `cancel_flag` í™•ì¸
4. **Zone.Identifier ì œê±°**: Windows Defender ì˜¤íƒ ë°©ì§€
5. **ì˜¤ë¥˜ ì‹œ íŒŒì¼ ì‚­ì œ**: ë¶ˆì™„ì „í•œ ë‹¤ìš´ë¡œë“œ ë°©ì§€

### 3. UpdateInstaller í´ë˜ìŠ¤

#### 3.1 ë°°ì¹˜ ìŠ¤í¬ë¦½íŠ¸ ë°©ì‹ ì„¤ì¹˜
```python
class UpdateInstaller:
    """ì„¤ì¹˜ í´ë˜ìŠ¤: ë°°ì¹˜ ìŠ¤í¬ë¦½íŠ¸ë¥¼ í†µí•œ EXE êµì²´"""

    @staticmethod
    def install_update(zip_path: str, restart: bool = True, logger=None) -> bool:
        """
        ì—…ë°ì´íŠ¸ ì„¤ì¹˜
        
        í”„ë¡œì„¸ìŠ¤:
        1. ZIP ì••ì¶• í•´ì œ
        2. ë°°ì¹˜ ìŠ¤í¬ë¦½íŠ¸ ìƒì„±
        3. ë°°ì¹˜ ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰
        4. ì•± ì¢…ë£Œ (ë°°ì¹˜ê°€ ì¬ì‹œì‘)
        """
        try:
            # ì‹¤í–‰ íŒŒì¼ ê²½ë¡œ
            current_exe = sys.executable if getattr(sys, 'frozen', False) else "BundleEditor.exe"
            current_dir = os.path.dirname(current_exe)
            extract_dir = os.path.join(current_dir, "update_extract")
            exe_name = os.path.basename(current_exe)

            # ì••ì¶• í•´ì œ í´ë” ìƒì„±
            if os.path.exists(extract_dir):
                shutil.rmtree(extract_dir, ignore_errors=True)
            os.makedirs(extract_dir, exist_ok=True)

            # ZIP ì••ì¶• í•´ì œ
            time.sleep(1)  # Windows Defender ì•ˆì •í™” ëŒ€ê¸°
            with zipfile.ZipFile(zip_path, 'r') as zip_ref:
                zip_ref.extractall(extract_dir)

            # ë°°ì¹˜ ìŠ¤í¬ë¦½íŠ¸ ìƒì„±
            bat_path = os.path.join(current_dir, "update_installer.bat")
            
            bat_content = f"""@echo off
chcp 65001 > nul
echo ========================================
echo Bundle Editor Update Installation...
echo ========================================

echo.

REM [1/5] í”„ë¡œì„¸ìŠ¤ ì¢…ë£Œ ëŒ€ê¸°
echo [1/5] Waiting for current process to terminate...
ping 127.0.0.1 -n 3 > nul
taskkill /F /IM "{exe_name}" > nul 2>&1
ping 127.0.0.1 -n 2 > nul
echo âœ“ Process terminated

echo.

REM [1.5/5] íŒŒì¼ í•¸ë“¤ í•´ì œ ëŒ€ê¸° (5ì´ˆ)
echo [1.5/5] Waiting for process to release file handles (5s)...
ping 127.0.0.1 -n 6 > nul
echo âœ“ Wait complete

echo.

REM [2/5] íŒŒì¼ ë³µì‚¬
echo [2/5] Copying files...
xcopy /E /I /H /Y "{extract_dir}\\*" "{current_dir}\\" > nul
if %ERRORLEVEL% NEQ 0 (
    echo âŒ File copy failed
    pause
    exit /b 1
)
echo âœ“ Files copied

echo.

REM [3/5] ì„ì‹œ íŒŒì¼ ì •ë¦¬
echo [3/5] Cleaning up temporary files...
if exist "{zip_path}" del /F /Q "{zip_path}" > nul 2>&1
if exist "{extract_dir}" rmdir /S /Q "{extract_dir}" > nul 2>&1
echo âœ“ Cleanup complete

echo.

REM [4/5] ì•± ì¬ì‹œì‘
echo [4/5] Starting new version...
start "" "{current_exe}"
ping 127.0.0.1 -n 2 > nul
echo âœ“ Restart complete

echo.

REM [5/5] ë°°ì¹˜ íŒŒì¼ ìì²´ ì‚­ì œ
echo [5/5] Cleaning up installer script...
ping 127.0.0.1 -n 3 > nul
(goto) 2>nul & del "%~f0"
"""

            with open(bat_path, 'w', encoding='utf-8') as f:
                f.write(bat_content)

            # ë°°ì¹˜ íŒŒì¼ ì‹¤í–‰
            if restart:
                time.sleep(5)
                os.startfile(bat_path)  # CMD ì°½ì—ì„œ ì‹¤í–‰
                time.sleep(3)
                sys.exit(0)  # í˜„ì¬ í”„ë¡œì„¸ìŠ¤ ì¢…ë£Œ

            return True

        except Exception as e:
            return False
```

**ë°°ì¹˜ ìŠ¤í¬ë¦½íŠ¸ í•µì‹¬:**
1. **[1/5] í”„ë¡œì„¸ìŠ¤ ì¢…ë£Œ**: `taskkill`ë¡œ ê°•ì œ ì¢…ë£Œ
2. **[1.5/5] ëŒ€ê¸°**: íŒŒì¼ í•¸ë“¤ í•´ì œ (5ì´ˆ)
3. **[2/5] íŒŒì¼ ë³µì‚¬**: `xcopy`ë¡œ ì „ì²´ ë³µì‚¬
4. **[3/5] ì •ë¦¬**: ZIP ë° ì„ì‹œ í´ë” ì‚­ì œ
5. **[4/5] ì¬ì‹œì‘**: `start`ë¡œ ìƒˆ ë²„ì „ ì‹¤í–‰
6. **[5/5] ìì²´ ì‚­ì œ**: `(goto) 2>nul & del "%~f0"`

**ì¤‘ìš” í¬ì¸íŠ¸:**
- `ping 127.0.0.1 -n X`: Windowsì—ì„œ X-1ì´ˆ ëŒ€ê¸°
- `xcopy /E /I /H /Y`: í•˜ìœ„ í´ë” í¬í•¨, ë®ì–´ì“°ê¸°
- `> nul 2>&1`: ì¶œë ¥ ìˆ¨ê¸°ê¸°
- `%ERRORLEVEL%`: ì˜¤ë¥˜ ì½”ë“œ í™•ì¸

### 4. AutoUpdater í´ë˜ìŠ¤ (í†µí•© ê´€ë¦¬ì)

```python
class AutoUpdater:
    """í†µí•© ìë™ ì—…ë°ì´íŠ¸ ê´€ë¦¬ì"""

    def __init__(self, version_file: str = "version.json"):
        self.checker = UpdateChecker(version_file)
        self.downloader = UpdateDownloader()
        self.update_available = False
        self.latest_info = None
        self.main_app = None

    def set_main_app(self, main_app):
        """ë©”ì¸ ì•± ì°¸ì¡° ì„¤ì • (ë¡œê·¸ ì¶œë ¥ìš©)"""
        self.main_app = main_app
        self.checker.set_main_app(main_app)
        self.downloader.set_main_app(main_app)

    def check_updates_async(self, callback=None):
        """ë¹„ë™ê¸°ë¡œ ì—…ë°ì´íŠ¸ í™•ì¸ (ìŠ¤ë ˆë“œ ì‚¬ìš©)"""
        def check_thread():
            try:
                has_update, info, error_msg = self.checker.check_for_updates()
                self.update_available = has_update
                self.latest_info = info
                if callback:
                    callback(has_update, info, error_msg or "")
            except Exception as e:
                if callback:
                    callback(False, None, str(e))

        threading.Thread(target=check_thread, daemon=True).start()

    def check_updates_sync(self) -> Tuple[bool, Optional[Dict[str, Any]], Optional[str]]:
        """ë™ê¸°ì ìœ¼ë¡œ ì—…ë°ì´íŠ¸ í™•ì¸ (ë©”ì¸ ìŠ¤ë ˆë“œì—ì„œ ì‹¤í–‰)"""
        has_update, info, error_msg = self.checker.check_for_updates()
        self.update_available = has_update
        self.latest_info = info
        return has_update, info, error_msg

    def download_and_install(self, progress_callback=None, completion_callback=None):
        """ë‹¤ìš´ë¡œë“œ ë° ì„¤ì¹˜ (ë¹„ë™ê¸°)"""
        def install_thread():
            try:
                if not self.latest_info:
                    if completion_callback:
                        completion_callback(False)
                    return

                download_url = self.latest_info.get('download_url')
                if not download_url:
                    if completion_callback:
                        completion_callback(False)
                    return

                # ë‹¤ìš´ë¡œë“œ
                zip_path = self.downloader.download(download_url, progress_callback)
                if not zip_path:
                    if completion_callback:
                        completion_callback(False)
                    return

                # ì„¤ì¹˜ (sys.exit(0)ìœ¼ë¡œ í”„ë¡œì„¸ìŠ¤ ì¢…ë£Œ)
                success = UpdateInstaller.install_update(zip_path, restart=True, logger=self.main_app)
                
                # ì—¬ê¸°ê¹Œì§€ ì˜¤ë©´ ì„¤ì¹˜ ì‹¤íŒ¨
                if completion_callback:
                    completion_callback(success)

            except Exception as e:
                if completion_callback:
                    completion_callback(False)

        threading.Thread(target=install_thread, daemon=True).start()
```

**ì£¼ìš” ë©”ì„œë“œ:**
- `check_updates_async()`: ë°±ê·¸ë¼ìš´ë“œì—ì„œ ì²´í¬ (UI ë©ˆì¶¤ ì—†ìŒ)
- `check_updates_sync()`: ë©”ì¸ ìŠ¤ë ˆë“œì—ì„œ ì²´í¬ (ê²°ê³¼ ì¦‰ì‹œ ë°˜í™˜)
- `download_and_install()`: ë‹¤ìš´ë¡œë“œ + ì„¤ì¹˜ (ë¹„ë™ê¸°)

---

## update_dialogs.py ìƒì„¸ ë¶„ì„

### 1. UpdateNotificationDialog í´ë˜ìŠ¤

```python
class UpdateNotificationDialog(QDialog):
    """ì—…ë°ì´íŠ¸ ì•Œë¦¼ ë‹¤ì´ì–¼ë¡œê·¸"""
    
    def __init__(self, update_info, parent=None):
        super().__init__(parent)
        self.update_info = update_info
        self.setWindowTitle("ì—…ë°ì´íŠ¸ ì‚¬ìš© ê°€ëŠ¥")
        self.resize(500, 400)
        self.init_ui()
    
    def init_ui(self):
        layout = QVBoxLayout()
        
        # ì œëª©
        title_label = QLabel("ğŸ‰ ìƒˆë¡œìš´ ë²„ì „ì´ ì¶œì‹œë˜ì—ˆìŠµë‹ˆë‹¤!")
        title_font = QFont()
        title_font.setPointSize(12)
        title_font.setBold(True)
        title_label.setFont(title_font)
        layout.addWidget(title_label)
        
        # ë²„ì „ ì •ë³´
        version_layout = QHBoxLayout()
        version_layout.addWidget(QLabel("ìƒˆ ë²„ì „:"))
        version_label = QLabel(self.update_info.get('version', 'ì•Œ ìˆ˜ ì—†ìŒ'))
        version_label.setStyleSheet("color: #0066CC; font-weight: bold;")
        version_layout.addWidget(version_label)
        version_layout.addStretch()
        layout.addLayout(version_layout)
        
        # ë°œí–‰ì¼
        if 'published_at' in self.update_info:
            date_str = self.update_info['published_at'][:10]  # YYYY-MM-DD
            layout.addWidget(QLabel(f"ë°œí–‰ì¼: {date_str}"))
        
        # ë³€ê²½ì‚¬í•­ (ìŠ¤í¬ë¡¤ ê°€ëŠ¥)
        layout.addWidget(QLabel("\nğŸ“ ë³€ê²½ì‚¬í•­:"))
        
        changelog = QTextEdit()
        changelog.setReadOnly(True)
        changelog.setPlainText(self.update_info.get('body', 'ë³€ê²½ì‚¬í•­ì´ ì—†ìŠµë‹ˆë‹¤.'))
        changelog.setMaximumHeight(200)
        layout.addWidget(changelog)
        
        # ë²„íŠ¼ ë ˆì´ì•„ì›ƒ
        button_layout = QHBoxLayout()
        
        self.update_now_btn = QPushButton("ì§€ê¸ˆ ì—…ë°ì´íŠ¸")
        self.update_now_btn.setStyleSheet(
            "QPushButton { background-color: #0066CC; color: white; padding: 8px 16px; }"
        )
        self.update_now_btn.clicked.connect(self.accept)
        
        self.later_btn = QPushButton("ë‚˜ì¤‘ì—")
        self.later_btn.clicked.connect(self.reject)
        
        self.skip_btn = QPushButton("ì´ ë²„ì „ ê±´ë„ˆë›°ê¸°")
        self.skip_btn.clicked.connect(self.skip_version)
        
        button_layout.addWidget(self.later_btn)
        button_layout.addWidget(self.skip_btn)
        button_layout.addStretch()
        button_layout.addWidget(self.update_now_btn)
        
        layout.addLayout(button_layout)
        self.setLayout(layout)
    
    def skip_version(self):
        """ì´ ë²„ì „ ê±´ë„ˆë›°ê¸°"""
        self.done(2)  # 2 = Skip (ì‚¬ìš©ì ì •ì˜ ë¦¬í„´ ì½”ë“œ)
```

**ëŒ€í™”ìƒì UI:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ‰ ìƒˆë¡œìš´ ë²„ì „ì´ ì¶œì‹œë˜ì—ˆìŠµë‹ˆë‹¤!        â”‚
â”‚                                         â”‚
â”‚  ìƒˆ ë²„ì „: 1.1.0                         â”‚
â”‚  ë°œí–‰ì¼: 2025-12-09                     â”‚
â”‚                                         â”‚
â”‚  ğŸ“ ë³€ê²½ì‚¬í•­:                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ â€¢ ìƒˆ ê¸°ëŠ¥ ì¶”ê°€                  â”‚   â”‚
â”‚  â”‚ â€¢ ë²„ê·¸ ìˆ˜ì •                     â”‚   â”‚
â”‚  â”‚ â€¢ ì„±ëŠ¥ ê°œì„                      â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                         â”‚
â”‚  [ë‚˜ì¤‘ì—] [ê±´ë„ˆë›°ê¸°]     [ì§€ê¸ˆ ì—…ë°ì´íŠ¸] â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ë°˜í™˜ê°’:**
- `QDialog.Accepted` (1): ì§€ê¸ˆ ì—…ë°ì´íŠ¸
- `QDialog.Rejected` (0): ë‚˜ì¤‘ì—
- `2`: ì´ ë²„ì „ ê±´ë„ˆë›°ê¸°

### 2. DownloadProgressDialog í´ë˜ìŠ¤

```python
class DownloadProgressDialog(QDialog):
    """ë‹¤ìš´ë¡œë“œ ì§„í–‰ë¥  ë‹¤ì´ì–¼ë¡œê·¸ (ìŠ¤ë ˆë“œ ì•ˆì „)"""
    
    # ì‹œê·¸ë„ ì •ì˜ (ìŠ¤ë ˆë“œ ê°„ í†µì‹ ìš©)
    progress_updated = pyqtSignal(int, int)  # received, total
    download_completed = pyqtSignal()
    
    def __init__(self, parent=None):
        super().__init__(parent)
        self.setWindowTitle("ì—…ë°ì´íŠ¸ ë‹¤ìš´ë¡œë“œ ì¤‘")
        self.resize(400, 150)
        
        # ëª¨ë‹¬ ì„¤ì • ë° ìµœìƒë‹¨ í‘œì‹œ
        self.setModal(True)
        self.setWindowFlags(Qt.Dialog | Qt.WindowStaysOnTopHint)
        
        self.init_ui()
        self.cancelled = False
        
        # ì‹œê·¸ë„ ì—°ê²° (ë©”ì¸ ìŠ¤ë ˆë“œì—ì„œ ì²˜ë¦¬)
        self.progress_updated.connect(self._update_progress_safe)
        self.download_completed.connect(self._download_complete_safe)
    
    def init_ui(self):
        layout = QVBoxLayout()
        
        # ìƒíƒœ ë©”ì‹œì§€
        self.status_label = QLabel("ì—…ë°ì´íŠ¸ íŒŒì¼ ë‹¤ìš´ë¡œë“œ ì¤‘...")
        layout.addWidget(self.status_label)
        
        # ì§„í–‰ë¥  ë°”
        self.progress_bar = QProgressBar()
        self.progress_bar.setRange(0, 100)
        self.progress_bar.setValue(0)
        layout.addWidget(self.progress_bar)
        
        # í¬ê¸° ì •ë³´
        self.size_label = QLabel("0 MB / 0 MB")
        self.size_label.setAlignment(Qt.AlignRight)
        layout.addWidget(self.size_label)
        
        # ì·¨ì†Œ ë²„íŠ¼
        self.cancel_btn = QPushButton("ì·¨ì†Œ")
        self.cancel_btn.clicked.connect(self.cancel_download)
        layout.addWidget(self.cancel_btn)
        
        self.setLayout(layout)
    
    def update_progress(self, received, total):
        """
        ì§„í–‰ë¥  ì—…ë°ì´íŠ¸ (ìŠ¤ë ˆë“œ ì•ˆì „ - ì‹œê·¸ë„ ë°œìƒ)
        ë‹¤ìš´ë¡œë“œ ìŠ¤ë ˆë“œì—ì„œ í˜¸ì¶œ
        """
        self.progress_updated.emit(received, total)
    
    def _update_progress_safe(self, received, total):
        """
        ì‹¤ì œ ì§„í–‰ë¥  ì—…ë°ì´íŠ¸ (ë©”ì¸ ìŠ¤ë ˆë“œì—ì„œ ì‹¤í–‰)
        ì‹œê·¸ë„ì— ì˜í•´ ìë™ í˜¸ì¶œë¨
        """
        if total > 0:
            percentage = int((received / total) * 100)
            self.progress_bar.setValue(percentage)
            
            received_mb = received / (1024 * 1024)
            total_mb = total / (1024 * 1024)
            self.size_label.setText(f"{received_mb:.1f} MB / {total_mb:.1f} MB")
    
    def cancel_download(self):
        """ë‹¤ìš´ë¡œë“œ ì·¨ì†Œ"""
        reply = QMessageBox.question(
            self, 
            "ë‹¤ìš´ë¡œë“œ ì·¨ì†Œ", 
            "ë‹¤ìš´ë¡œë“œë¥¼ ì·¨ì†Œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?",
            QMessageBox.Yes | QMessageBox.No,
            QMessageBox.No
        )
        
        if reply == QMessageBox.Yes:
            self.cancelled = True
            self.reject()
    
    def download_complete(self):
        """ë‹¤ìš´ë¡œë“œ ì™„ë£Œ (ìŠ¤ë ˆë“œ ì•ˆì „ - ì‹œê·¸ë„ ë°œìƒ)"""
        self.download_completed.emit()
    
    def _download_complete_safe(self):
        """ì‹¤ì œ ë‹¤ìš´ë¡œë“œ ì™„ë£Œ ì²˜ë¦¬ (ë©”ì¸ ìŠ¤ë ˆë“œì—ì„œ ì‹¤í–‰)"""
        self.status_label.setText("ë‹¤ìš´ë¡œë“œ ì™„ë£Œ! ì„¤ì¹˜ ì¤‘...")
        self.progress_bar.setValue(100)
        self.cancel_btn.setEnabled(False)
```

**ìŠ¤ë ˆë“œ ì•ˆì „ì„±:**
- `update_progress()`: ë‹¤ìš´ë¡œë“œ ìŠ¤ë ˆë“œì—ì„œ í˜¸ì¶œ â†’ ì‹œê·¸ë„ ë°œìƒ
- `_update_progress_safe()`: ë©”ì¸ ìŠ¤ë ˆë“œì—ì„œ ì‹œê·¸ë„ ì²˜ë¦¬ â†’ UI ì—…ë°ì´íŠ¸
- PyQt5ì˜ ì‹œê·¸ë„/ìŠ¬ë¡¯ ë©”ì»¤ë‹ˆì¦˜ì„ ì‚¬ìš©í•˜ì—¬ ìŠ¤ë ˆë“œ ì•ˆì „ ë³´ì¥

**UI í‘œì‹œ:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ì—…ë°ì´íŠ¸ íŒŒì¼ ë‹¤ìš´ë¡œë“œ ì¤‘...        â”‚
â”‚                                     â”‚
â”‚  [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘] 65%        â”‚
â”‚                                     â”‚
â”‚                          15.2 / 23.5 MB â”‚
â”‚                                     â”‚
â”‚                      [ì·¨ì†Œ]         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3. AboutDialog í´ë˜ìŠ¤

```python
class AboutDialog(QDialog):
    """About ë‹¤ì´ì–¼ë¡œê·¸ - ë²„ì „ ì •ë³´ ë° ì—…ë°ì´íŠ¸ ì²´í¬"""
    
    def __init__(self, parent=None):
        super().__init__(parent)
        self.setWindowTitle("Bundle Editor ì •ë³´")
        self.resize(450, 350)
        self.init_ui()
    
    def init_ui(self):
        layout = QVBoxLayout()
        
        # ì•± ì•„ì´ì½˜ ë° ì œëª©
        title_layout = QHBoxLayout()
        icon_label = QLabel()
        icon_label.setPixmap(QPixmap("probe.ico").scaled(32, 32, Qt.KeepAspectRatio))
        title_layout.addWidget(icon_label)
        
        title_label = QLabel("Bundle Editor")
        title_font = QFont()
        title_font.setPointSize(16)
        title_font.setBold(True)
        title_label.setFont(title_font)
        title_layout.addWidget(title_label)
        layout.addLayout(title_layout)
        
        # ë¶€ì œëª©
        subtitle_label = QLabel("ìë™í™” í…ŒìŠ¤íŠ¸ ë„êµ¬")
        subtitle_label.setAlignment(Qt.AlignCenter)
        layout.addWidget(subtitle_label)
        
        # ë²„ì „ ì •ë³´ ë¡œë“œ
        version_info = self._load_version_info()
        
        # í˜„ì¬ ë²„ì „
        version_layout = QHBoxLayout()
        version_layout.addWidget(QLabel("ë²„ì „:"))
        version_label = QLabel(version_info.get('version', 'ì•Œ ìˆ˜ ì—†ìŒ'))
        version_label.setStyleSheet("font-weight: bold;")
        version_layout.addWidget(version_label)
        layout.addLayout(version_layout)
        
        # ë¹Œë“œ ë‚ ì§œ
        build_layout = QHBoxLayout()
        build_layout.addWidget(QLabel("ë¹Œë“œ ë‚ ì§œ:"))
        build_label = QLabel(version_info.get('build_date', 'ì•Œ ìˆ˜ ì—†ìŒ'))
        build_layout.addWidget(build_label)
        layout.addLayout(build_layout)
        
        # ë³€ê²½ ì´ë ¥ (ìŠ¤í¬ë¡¤ ê°€ëŠ¥)
        layout.addWidget(QLabel("ğŸ“ ìµœê·¼ ë³€ê²½ì‚¬í•­:"))
        
        changelog_text = QTextEdit()
        changelog_text.setReadOnly(True)
        changelog_text.setMaximumHeight(150)
        
        # version.jsonì—ì„œ ëª¨ë“  ë³€ê²½ì‚¬í•­ í‘œì‹œ (ìµœì‹ ìˆœ)
        changelog = version_info.get('changelog', [])
        if changelog:
            changelog_texts = []
            for item in sorted(changelog, key=lambda x: x.get('date', ''), reverse=True):
                build_name = item.get('version', 'Unknown')
                changes = item.get('changes', [])
                formatted_changes = "\n".join(f"â€¢ {change}" for change in changes)
                changelog_texts.append(f"{build_name}\n{formatted_changes}")
            changelog_text.setPlainText("\n\n".join(changelog_texts))
        else:
            changelog_text.setPlainText("ë³€ê²½ì‚¬í•­ì´ ì—†ìŠµë‹ˆë‹¤.")
        
        layout.addWidget(changelog_text)
        
        # ì—…ë°ì´íŠ¸ í™•ì¸ ë²„íŠ¼
        update_btn = QPushButton("ì—…ë°ì´íŠ¸ í™•ì¸")
        update_btn.clicked.connect(self.check_updates)
        layout.addWidget(update_btn)
        
        # ë‹«ê¸° ë²„íŠ¼
        close_btn = QPushButton("ë‹«ê¸°")
        close_btn.clicked.connect(self.accept)
        layout.addWidget(close_btn)
        
        self.setLayout(layout)
    
    def _load_version_info(self):
        """version.json íŒŒì¼ì—ì„œ ë²„ì „ ì •ë³´ ë¡œë“œ"""
        try:
            version_file = "version.json"
            if os.path.exists(version_file):
                with open(version_file, 'r', encoding='utf-8') as f:
                    return json.load(f)
        except Exception as e:
            print(f"ë²„ì „ ì •ë³´ ë¡œë“œ ì‹¤íŒ¨: {e}")
        
        return {
            'version': 'ì•Œ ìˆ˜ ì—†ìŒ',
            'build_date': 'ì•Œ ìˆ˜ ì—†ìŒ',
            'changelog': []
        }
    
    def check_updates(self):
        """ì—…ë°ì´íŠ¸ í™•ì¸ - ë¶€ëª¨ ìœ„ì ¯ì˜ ë©”ì„œë“œ í˜¸ì¶œ"""
        try:
            if self.parent() and hasattr(self.parent(), 'check_for_updates'):
                # About ë‹¤ì´ì–¼ë¡œê·¸ ë‹«ê¸°
                self.accept()
                
                # ë¶€ëª¨ì—ì„œ ì—…ë°ì´íŠ¸ í™•ì¸ ì‹¤í–‰
                self.parent().check_for_updates()
            else:
                QMessageBox.information(
                    self,
                    "ì—…ë°ì´íŠ¸ í™•ì¸",
                    "ì—…ë°ì´íŠ¸ë¥¼ í™•ì¸í•˜ë ¤ë©´ ë©”ë‰´ì—ì„œ 'ì—…ë°ì´íŠ¸ í™•ì¸'ì„ ì„ íƒí•˜ì„¸ìš”."
                )
        except Exception as e:
            QMessageBox.critical(
                self,
                "ì˜¤ë¥˜",
                f"ì—…ë°ì´íŠ¸ í™•ì¸ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.\n\n{e}"
            )
```

---

## main.py í†µí•© ë°©ë²•

### 1. ì´ˆê¸°í™”

```python
from updater import AutoUpdater
from update_dialogs import UpdateNotificationDialog, DownloadProgressDialog, AboutDialog

class MainWindow(QMainWindow):
    # ì‹œê·¸ë„ ì •ì˜
    update_check_result = pyqtSignal(bool, object, str)  # has_update, info, error_msg
    
    def __init__(self):
        super().__init__()
        
        # AutoUpdater ì´ˆê¸°í™”
        self.auto_updater = AutoUpdater()
        self.auto_updater.set_main_app(self)  # ë¡œê·¸ ì¶œë ¥ìš©
        
        # ì‹œê·¸ë„ ì—°ê²°
        self.update_check_result.connect(self.on_update_check_result)
        
        # ì•± ì‹œì‘ ì‹œ ì—…ë°ì´íŠ¸ ì²´í¬ (3ì´ˆ í›„)
        QTimer.singleShot(3000, self.check_for_updates_on_startup)
```

### 2. ì‹œì‘ ì‹œ ìë™ ì²´í¬

```python
def check_for_updates_on_startup(self):
    """ì•± ì‹œì‘ ì‹œ ë°±ê·¸ë¼ìš´ë“œì—ì„œ ì—…ë°ì´íŠ¸ í™•ì¸"""
    
    def callback(has_update, info, error_msg):
        # ë©”ì¸ ìŠ¤ë ˆë“œë¡œ ê²°ê³¼ ì „ë‹¬
        self.update_check_result.emit(has_update, info, error_msg or "")
    
    # ë™ê¸° ë°©ì‹ (ì¦‰ì‹œ ê²°ê³¼ ë°˜í™˜)
    has_update, info, error_msg = self.auto_updater.check_updates_sync()
    callback(has_update, info, error_msg)
    
    # ë˜ëŠ” ë¹„ë™ê¸° ë°©ì‹ (ë°±ê·¸ë¼ìš´ë“œ ìŠ¤ë ˆë“œ)
    # self.auto_updater.check_updates_async(callback)
```

### 3. ì—…ë°ì´íŠ¸ ì²´í¬ ê²°ê³¼ ì²˜ë¦¬

```python
def on_update_check_result(self, has_update, info, error_msg):
    """ì—…ë°ì´íŠ¸ ì²´í¬ ê²°ê³¼ ì²˜ë¦¬ (ë©”ì¸ ìŠ¤ë ˆë“œ)"""
    
    if error_msg:
        self.log_error(f"ì—…ë°ì´íŠ¸ í™•ì¸ ì‹¤íŒ¨: {error_msg}")
        return
    
    if has_update:
        self.log(f"ğŸ‰ ìƒˆ ë²„ì „ ë°œê²¬: {info['version']}")
        
        # ì—…ë°ì´íŠ¸ ì•Œë¦¼ ë‹¤ì´ì–¼ë¡œê·¸ í‘œì‹œ
        self._show_update_notification(info)
    else:
        self.log("í˜„ì¬ ìµœì‹  ë²„ì „ì…ë‹ˆë‹¤.")
```

### 4. ì—…ë°ì´íŠ¸ ì•Œë¦¼ í‘œì‹œ

```python
def _show_update_notification(self, info):
    """ì—…ë°ì´íŠ¸ ì•Œë¦¼ ë‹¤ì´ì–¼ë¡œê·¸ í‘œì‹œ"""
    
    dialog = UpdateNotificationDialog(info, self)
    result = dialog.exec_()
    
    if result == QDialog.Accepted:  # ì§€ê¸ˆ ì—…ë°ì´íŠ¸
        self.log(f"ì—…ë°ì´íŠ¸ ì‹œì‘: {info['version']}")
        self.start_update_download(info)
    elif result == 2:  # ê±´ë„ˆë›°ê¸°
        self.log(f"ë²„ì „ {info['version']} ê±´ë„ˆë›°ê¸°")
        # TODO: ê±´ë„ˆë›´ ë²„ì „ ì„¤ì • íŒŒì¼ì— ì €ì¥
    else:  # ë‚˜ì¤‘ì—
        self.log("ì—…ë°ì´íŠ¸ ë‚˜ì¤‘ì— í•˜ê¸°")
```

### 5. ë‹¤ìš´ë¡œë“œ ë° ì„¤ì¹˜

```python
def start_update_download(self, info):
    """ì—…ë°ì´íŠ¸ ë‹¤ìš´ë¡œë“œ ì‹œì‘"""
    
    # ì§„í–‰ë¥  ë‹¤ì´ì–¼ë¡œê·¸ ìƒì„±
    self.download_dialog = DownloadProgressDialog(self)
    
    def progress_callback(received, total):
        """ë‹¤ìš´ë¡œë“œ ì§„í–‰ë¥  ì—…ë°ì´íŠ¸"""
        self.download_dialog.update_progress(received, total)
    
    def completion_callback(success):
        """ë‹¤ìš´ë¡œë“œ/ì„¤ì¹˜ ì™„ë£Œ ì½œë°±"""
        if success:
            self.log("âœ… ì—…ë°ì´íŠ¸ ì„¤ì¹˜ ì™„ë£Œ")
            # ë°°ì¹˜ ìŠ¤í¬ë¦½íŠ¸ê°€ ì¬ì‹œì‘ ì²˜ë¦¬ (ì—¬ê¸°ê¹Œì§€ ì˜¤ì§€ ì•ŠìŒ)
        else:
            self.log_error("âŒ ì—…ë°ì´íŠ¸ ì‹¤íŒ¨")
            self.download_dialog.reject()
            QMessageBox.critical(
                self,
                "ì—…ë°ì´íŠ¸ ì‹¤íŒ¨",
                "ì—…ë°ì´íŠ¸ ì„¤ì¹˜ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤."
            )
    
    # ë‹¤ìš´ë¡œë“œ ì‹œì‘ (ë¹„ë™ê¸°)
    self.auto_updater.download_and_install(progress_callback, completion_callback)
    
    # ì§„í–‰ë¥  ë‹¤ì´ì–¼ë¡œê·¸ í‘œì‹œ (ëª¨ë‹¬)
    result = self.download_dialog.exec_()
    
    if result == QDialog.Rejected and self.download_dialog.cancelled:
        # ì‚¬ìš©ìê°€ ì·¨ì†Œ
        self.auto_updater.downloader.cancel()
        self.log("ì—…ë°ì´íŠ¸ ì·¨ì†Œë¨")
```

### 6. ë©”ë‰´ì—ì„œ ìˆ˜ë™ ì²´í¬

```python
def check_for_updates(self):
    """ë©”ë‰´ì—ì„œ ì—…ë°ì´íŠ¸ ìˆ˜ë™ ì²´í¬"""
    
    self.log("ì—…ë°ì´íŠ¸ í™•ì¸ ì¤‘...")
    
    # ë™ê¸° ë°©ì‹ìœ¼ë¡œ ì¦‰ì‹œ ì²´í¬
    has_update, info, error_msg = self.auto_updater.check_updates_sync()
    
    if error_msg:
        QMessageBox.warning(
            self,
            "ì—…ë°ì´íŠ¸ í™•ì¸ ì‹¤íŒ¨",
            f"ì—…ë°ì´íŠ¸ë¥¼ í™•ì¸í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.\n\n{error_msg}"
        )
        return
    
    if has_update:
        self._show_update_notification(info)
    else:
        QMessageBox.information(
            self,
            "ìµœì‹  ë²„ì „",
            "í˜„ì¬ ìµœì‹  ë²„ì „ì„ ì‚¬ìš© ì¤‘ì…ë‹ˆë‹¤."
        )
```

### 7. Help ë©”ë‰´ í†µí•©

```python
def create_menus(self):
    """ë©”ë‰´ ìƒì„±"""
    menubar = self.menuBar()
    
    # Help ë©”ë‰´
    help_menu = menubar.addMenu('Help')
    
    # About ì•¡ì…˜
    about_action = QAction('About', self)
    about_action.triggered.connect(self.show_about_dialog)
    help_menu.addAction(about_action)
    
    # ì—…ë°ì´íŠ¸ í™•ì¸ ì•¡ì…˜
    check_update_action = QAction('ì—…ë°ì´íŠ¸ í™•ì¸', self)
    check_update_action.triggered.connect(self.check_for_updates)
    help_menu.addAction(check_update_action)

def show_about_dialog(self):
    """About ë‹¤ì´ì–¼ë¡œê·¸ í‘œì‹œ"""
    dialog = AboutDialog(self)
    dialog.exec_()
```

---

## ì—…ë°ì´íŠ¸ í”„ë¡œì„¸ìŠ¤ í”Œë¡œìš°

### ì „ì²´ íë¦„ë„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ì•± ì‹œì‘                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  3ì´ˆ í›„ ìë™ ì—…ë°ì´íŠ¸ ì²´í¬ (ë°±ê·¸ë¼ìš´ë“œ)                  â”‚
â”‚  - check_for_updates_on_startup()                       â”‚
â”‚  - AutoUpdater.check_updates_sync()                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
              â–¼
      â”Œâ”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”
      â”‚               â”‚
      â–¼               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ì—…ë°ì´íŠ¸  â”‚    â”‚ ìµœì‹      â”‚
â”‚ ê°€ëŠ¥     â”‚    â”‚ ë²„ì „     â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  UpdateNotificationDialog í‘œì‹œ                          â”‚
â”‚  - ìƒˆ ë²„ì „, ë¦´ë¦¬ì¦ˆ ë…¸íŠ¸                                  â”‚
â”‚  - [ì§€ê¸ˆ ì—…ë°ì´íŠ¸] [ë‚˜ì¤‘ì—] [ê±´ë„ˆë›°ê¸°]                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
      â”Œâ”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”
      â”‚       â”‚       â”‚       â”‚
      â–¼       â–¼       â–¼       â–¼
  [ì§€ê¸ˆ]  [ë‚˜ì¤‘ì—] [ê±´ë„ˆë›°ê¸°] [X]
      â”‚
      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  DownloadProgressDialog í‘œì‹œ                            â”‚
â”‚  - ë‹¤ìš´ë¡œë“œ ì§„í–‰ë¥                                        â”‚
â”‚  - [ì·¨ì†Œ] ë²„íŠ¼                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  UpdateDownloader.download()                            â”‚
â”‚  - ìŠ¤íŠ¸ë¦¬ë° ë‹¤ìš´ë¡œë“œ                                     â”‚
â”‚  - ì§„í–‰ë¥  ì½œë°±                                           â”‚
â”‚  - Zone.Identifier ì œê±°                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  UpdateInstaller.install_update()                       â”‚
â”‚  1. ZIP ì••ì¶• í•´ì œ                                        â”‚
â”‚  2. update_installer.bat ìƒì„±                           â”‚
â”‚  3. ë°°ì¹˜ ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰                                   â”‚
â”‚  4. sys.exit(0) - ì•± ì¢…ë£Œ                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  update_installer.bat ì‹¤í–‰                              â”‚
â”‚  [1/5] í”„ë¡œì„¸ìŠ¤ ì¢…ë£Œ (taskkill)                         â”‚
â”‚  [1.5/5] íŒŒì¼ í•¸ë“¤ í•´ì œ ëŒ€ê¸° (5ì´ˆ)                      â”‚
â”‚  [2/5] íŒŒì¼ ë³µì‚¬ (xcopy)                                â”‚
â”‚  [3/5] ì„ì‹œ íŒŒì¼ ì •ë¦¬                                   â”‚
â”‚  [4/5] ìƒˆ ë²„ì „ ì‹¤í–‰ (start)                             â”‚
â”‚  [5/5] ë°°ì¹˜ íŒŒì¼ ìì²´ ì‚­ì œ                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ìƒˆ ë²„ì „ ì•± ì‹œì‘                                          â”‚
â”‚  - ì—…ë°ì´íŠ¸ëœ EXE ì‹¤í–‰                                   â”‚
â”‚  - ìƒˆ version.json ë¡œë“œ                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ìŠ¤ë ˆë“œ êµ¬ì¡°

```
ë©”ì¸ ìŠ¤ë ˆë“œ (PyQt5 UI)
â”‚
â”œâ”€ UpdateNotificationDialog (ëª¨ë‹¬)
â”‚  â””â”€ ì‚¬ìš©ì ì„ íƒ ëŒ€ê¸°
â”‚
â”œâ”€ DownloadProgressDialog (ëª¨ë‹¬)
â”‚  â”œâ”€ ì§„í–‰ë¥  í‘œì‹œ (ì‹œê·¸ë„ ìˆ˜ì‹ )
â”‚  â””â”€ ì·¨ì†Œ ë²„íŠ¼ ì²˜ë¦¬
â”‚
â””â”€ ë‹¤ìš´ë¡œë“œ/ì„¤ì¹˜ ìŠ¤ë ˆë“œ (ë°±ê·¸ë¼ìš´ë“œ)
   â”œâ”€ UpdateDownloader.download()
   â”‚  â”œâ”€ ì²­í¬ ë‹¨ìœ„ ë‹¤ìš´ë¡œë“œ
   â”‚  â””â”€ ì§„í–‰ë¥  ì‹œê·¸ë„ ë°œìƒ
   â”‚
   â””â”€ UpdateInstaller.install_update()
      â”œâ”€ ZIP ì••ì¶• í•´ì œ
      â”œâ”€ ë°°ì¹˜ ìŠ¤í¬ë¦½íŠ¸ ìƒì„±
      â”œâ”€ ë°°ì¹˜ ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰
      â””â”€ sys.exit(0)

ì™¸ë¶€ í”„ë¡œì„¸ìŠ¤
â”‚
â””â”€ update_installer.bat
   â”œâ”€ í”„ë¡œì„¸ìŠ¤ ì¢…ë£Œ
   â”œâ”€ íŒŒì¼ ë³µì‚¬
   â”œâ”€ ì •ë¦¬
   â”œâ”€ ì•± ì¬ì‹œì‘
   â””â”€ ìì²´ ì‚­ì œ
```

---

## ë‹¤ë¥¸ í”„ë¡œì íŠ¸ ì ìš© ê°€ì´ë“œ

### 1. í•„ìˆ˜ íŒŒì¼ ë³µì‚¬

```
í”„ë¡œì íŠ¸/
â”œâ”€â”€ updater.py              # ë³µì‚¬
â”œâ”€â”€ update_dialogs.py       # ë³µì‚¬
â”œâ”€â”€ version.json            # ìƒì„± í•„ìš”
â””â”€â”€ main.py                 # ìˆ˜ì • í•„ìš”
```

### 2. version.json ì´ˆê¸° ì„¤ì •

```json
{
  "version": "1.0.0",
  "build_date": "2025-01-01",
  "update_url": "https://api.github.com/repos/YourUsername/YourRepo/releases/latest",
  "changelog": [
    {
      "version": "1.0.0",
      "date": "2025-01-01",
      "changes": [
        "ì²« ë¦´ë¦¬ì¦ˆ"
      ]
    }
  ]
}
```

### 3. updater.py ì»¤ìŠ¤í„°ë§ˆì´ì§•

```python
# UpdateChecker.check_for_updates() ë©”ì„œë“œì—ì„œ ìˆ˜ì •
def check_for_updates(self):
    # GitHub API URL ë³€ê²½
    api_url = "https://api.github.com/repos/YourUsername/YourRepo/releases/latest"
    
    # ... ë‚˜ë¨¸ì§€ ì½”ë“œ ë™ì¼ ...
```

```python
# UpdateDownloader.download() ë©”ì„œë“œì—ì„œ ìˆ˜ì •
def download(self, url, progress_callback=None):
    # ZIP íŒŒì¼ëª… ë³€ê²½
    download_path = os.path.join(base_dir, "YourApp_update.zip")
    
    # ... ë‚˜ë¨¸ì§€ ì½”ë“œ ë™ì¼ ...
```

```python
# UpdateInstaller.install_update() ë©”ì„œë“œì—ì„œ ìˆ˜ì •
@staticmethod
def install_update(zip_path, restart=True, logger=None):
    # EXE íŒŒì¼ëª… ë³€ê²½
    current_exe = sys.executable if getattr(sys, 'frozen', False) else "YourApp.exe"
    exe_name = os.path.basename(current_exe)
    
    # ë°°ì¹˜ ìŠ¤í¬ë¦½íŠ¸ ë‚´ìš©ë„ ìë™ìœ¼ë¡œ exe_name ì‚¬ìš©ë¨
    # ... ë‚˜ë¨¸ì§€ ì½”ë“œ ë™ì¼ ...
```

### 4. update_dialogs.py ì»¤ìŠ¤í„°ë§ˆì´ì§•

```python
# AboutDialog í´ë˜ìŠ¤ì—ì„œ ìˆ˜ì •
class AboutDialog(QDialog):
    def __init__(self, parent=None):
        super().__init__(parent)
        self.setWindowTitle("YourApp ì •ë³´")  # ë³€ê²½
        # ... ë‚˜ë¨¸ì§€ ë™ì¼ ...
    
    def init_ui(self):
        # ì•± ì´ë¦„ ë³€ê²½
        title_label = QLabel("YourApp")
        
        # ì•„ì´ì½˜ ê²½ë¡œ ë³€ê²½
        icon_label.setPixmap(QPixmap("your_icon.ico").scaled(32, 32, ...))
        
        # ë¶€ì œëª© ë³€ê²½
        subtitle_label = QLabel("Your App Description")
        
        # ... ë‚˜ë¨¸ì§€ ë™ì¼ ...
```

### 5. main.py í†µí•© ì½”ë“œ

ìµœì†Œí•œì˜ í†µí•© ì½”ë“œ:

```python
from PyQt5.QtWidgets import QMainWindow, QApplication
from PyQt5.QtCore import QTimer, pyqtSignal
from updater import AutoUpdater
from update_dialogs import UpdateNotificationDialog, DownloadProgressDialog, AboutDialog

class MainWindow(QMainWindow):
    update_check_result = pyqtSignal(bool, object, str)
    
    def __init__(self):
        super().__init__()
        
        # AutoUpdater ì´ˆê¸°í™”
        self.auto_updater = AutoUpdater()
        self.auto_updater.set_main_app(self)
        
        # ì‹œê·¸ë„ ì—°ê²°
        self.update_check_result.connect(self.on_update_check_result)
        
        # UI ì´ˆê¸°í™”
        self.init_ui()
        
        # 3ì´ˆ í›„ ì—…ë°ì´íŠ¸ ì²´í¬
        QTimer.singleShot(3000, self.check_for_updates_on_startup)
    
    def log(self, message):
        """ë¡œê·¸ ì¶œë ¥"""
        print(f"[LOG] {message}")
    
    def log_error(self, message):
        """ì—ëŸ¬ ë¡œê·¸ ì¶œë ¥"""
        print(f"[ERROR] {message}")
    
    def check_for_updates_on_startup(self):
        """ì‹œì‘ ì‹œ ì—…ë°ì´íŠ¸ ì²´í¬"""
        has_update, info, error_msg = self.auto_updater.check_updates_sync()
        self.update_check_result.emit(has_update, info, error_msg or "")
    
    def on_update_check_result(self, has_update, info, error_msg):
        """ì—…ë°ì´íŠ¸ ì²´í¬ ê²°ê³¼ ì²˜ë¦¬"""
        if error_msg:
            self.log_error(f"ì—…ë°ì´íŠ¸ í™•ì¸ ì‹¤íŒ¨: {error_msg}")
            return
        
        if has_update:
            self.log(f"ìƒˆ ë²„ì „ ë°œê²¬: {info['version']}")
            self._show_update_notification(info)
    
    def _show_update_notification(self, info):
        """ì—…ë°ì´íŠ¸ ì•Œë¦¼"""
        dialog = UpdateNotificationDialog(info, self)
        result = dialog.exec_()
        
        if result == QDialog.Accepted:
            self.start_update_download(info)
    
    def start_update_download(self, info):
        """ë‹¤ìš´ë¡œë“œ ì‹œì‘"""
        self.download_dialog = DownloadProgressDialog(self)
        
        def progress_callback(received, total):
            self.download_dialog.update_progress(received, total)
        
        def completion_callback(success):
            if not success:
                self.download_dialog.reject()
        
        self.auto_updater.download_and_install(progress_callback, completion_callback)
        self.download_dialog.exec_()

if __name__ == '__main__':
    app = QApplication(sys.argv)
    window = MainWindow()
    window.show()
    sys.exit(app.exec_())
```

### 6. ì˜ì¡´ì„± íŒ¨í‚¤ì§€

```bash
pip install PyQt5 requests packaging
```

ë˜ëŠ” `requirements.txt`:
```txt
PyQt5>=5.15.0
requests>=2.31.0
packaging>=21.0
```

### 7. í…ŒìŠ¤íŠ¸ ì²´í¬ë¦¬ìŠ¤íŠ¸

#### Phase 1: ë²„ì „ ì²´í¬
- [ ] GitHub API ì—°ê²° í™•ì¸
- [ ] ìµœì‹  ë²„ì „ ì½ê¸° ì„±ê³µ
- [ ] ë²„ì „ ë¹„êµ ì •í™•ì„± í™•ì¸
- [ ] ì˜¤ë¥˜ ì²˜ë¦¬ (ë„¤íŠ¸ì›Œí¬ ëŠê¹€ ë“±)

#### Phase 2: UI í…ŒìŠ¤íŠ¸
- [ ] UpdateNotificationDialog í‘œì‹œ
- [ ] ë¦´ë¦¬ì¦ˆ ë…¸íŠ¸ í‘œì‹œ
- [ ] ë²„íŠ¼ ë™ì‘ (ì§€ê¸ˆ/ë‚˜ì¤‘ì—/ê±´ë„ˆë›°ê¸°)
- [ ] DownloadProgressDialog ì§„í–‰ë¥  ì—…ë°ì´íŠ¸
- [ ] AboutDialog ë²„ì „ ì •ë³´ í‘œì‹œ

#### Phase 3: ë‹¤ìš´ë¡œë“œ
- [ ] ZIP íŒŒì¼ ë‹¤ìš´ë¡œë“œ ì„±ê³µ
- [ ] ì§„í–‰ë¥  ì •í™•ì„±
- [ ] ì·¨ì†Œ ê¸°ëŠ¥
- [ ] ì˜¤ë¥˜ ì‹œ íŒŒì¼ ì •ë¦¬
- [ ] Zone.Identifier ì œê±°

#### Phase 4: ì„¤ì¹˜
- [ ] ZIP ì••ì¶• í•´ì œ ì„±ê³µ
- [ ] ë°°ì¹˜ ìŠ¤í¬ë¦½íŠ¸ ìƒì„±
- [ ] ë°°ì¹˜ ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰
- [ ] ì•± ì¢…ë£Œ
- [ ] ìƒˆ ë²„ì „ ì‹¤í–‰
- [ ] ì„ì‹œ íŒŒì¼ ì •ë¦¬

#### Phase 5: í†µí•© í…ŒìŠ¤íŠ¸
- [ ] ì „ì²´ ì—…ë°ì´íŠ¸ í”„ë¡œì„¸ìŠ¤
- [ ] ì—¬ëŸ¬ ë²„ì „ ê°„ ì—…ë°ì´íŠ¸
- [ ] Windows Defender ì°¨ë‹¨ ì—†ìŒ
- [ ] ê¶Œí•œ ë¬¸ì œ ì—†ìŒ

### 8. ë¬¸ì œ í•´ê²°

#### Q1: GitHub API 403 ì˜¤ë¥˜
```
í•´ê²°: Rate Limit í™•ì¸
- ìµëª…: 60 ìš”ì²­/ì‹œê°„
- ì¸ì¦: 5000 ìš”ì²­/ì‹œê°„
- í•„ìš” ì‹œ Personal Access Token ì‚¬ìš©
```

#### Q2: ë‹¤ìš´ë¡œë“œ í›„ Defender ì°¨ë‹¨
```python
# Zone.Identifier ì œê±° (updater.pyì— ì´ë¯¸ í¬í•¨ë¨)
zone_file = download_path + ":Zone.Identifier"
if os.path.exists(zone_file):
    os.remove(zone_file)
```

#### Q3: ë°°ì¹˜ ìŠ¤í¬ë¦½íŠ¸ ì‹¤íŒ¨
```
í•´ê²°: íŒŒì¼ ê²½ë¡œ í™•ì¸
- ê²½ë¡œì— ê³µë°±ì´ ìˆìœ¼ë©´ í°ë”°ì˜´í‘œë¡œ ê°ì‹¸ê¸°
- ê¶Œí•œ ë¬¸ì œ: ê´€ë¦¬ì ê¶Œí•œ ì—†ì´ ì‹¤í–‰
```

#### Q4: PyQt5 ìŠ¤ë ˆë“œ ì˜¤ë¥˜
```python
# ì‹œê·¸ë„/ìŠ¬ë¡¯ ì‚¬ìš© (update_dialogs.pyì— ì´ë¯¸ êµ¬í˜„ë¨)
progress_updated = pyqtSignal(int, int)
self.progress_updated.connect(self._update_progress_safe)
```

#### Q5: ë²„ì „ ë¹„êµ ì˜¤ë¥˜
```python
# packaging ì‚¬ìš© (updater.pyì— ì´ë¯¸ í¬í•¨ë¨)
from packaging import version as version_parser
if version_parser.parse(latest) > version_parser.parse(current):
    # ì—…ë°ì´íŠ¸ ê°€ëŠ¥
```

### 9. ê³ ê¸‰ ê¸°ëŠ¥

#### 9.1 ê±´ë„ˆë›´ ë²„ì „ ì €ì¥
```python
# settings.json ë˜ëŠ” ë ˆì§€ìŠ¤íŠ¸ë¦¬ì— ì €ì¥
class UpdateChecker:
    def __init__(self):
        self.skipped_versions = self._load_skipped_versions()
    
    def _load_skipped_versions(self):
        try:
            with open('update_settings.json', 'r') as f:
                data = json.load(f)
                return data.get('skipped_versions', [])
        except:
            return []
    
    def skip_version(self, version):
        self.skipped_versions.append(version)
        with open('update_settings.json', 'w') as f:
            json.dump({'skipped_versions': self.skipped_versions}, f)
```

#### 9.2 ìë™ ì—…ë°ì´íŠ¸ ì„¤ì •
```python
# UpdateSettingsDialog êµ¬í˜„
class UpdateSettingsDialog(QDialog):
    def init_ui(self):
        # ìë™ ì²´í¬ ON/OFF
        self.auto_check = QCheckBox("ì‹œì‘ ì‹œ ìë™ìœ¼ë¡œ ì—…ë°ì´íŠ¸ í™•ì¸")
        
        # ì—…ë°ì´íŠ¸ ì±„ë„
        self.channel_combo = QComboBox()
        self.channel_combo.addItems(["Stable", "Beta"])
```

#### 9.3 ë¸íƒ€ ì—…ë°ì´íŠ¸
```python
# ì „ì²´ ZIP ëŒ€ì‹  ë³€ê²½ëœ íŒŒì¼ë§Œ ë‹¤ìš´ë¡œë“œ
def download_delta_update(current_version, target_version):
    # GitHub APIì—ì„œ ë³€ê²½ëœ íŒŒì¼ ëª©ë¡ ê°€ì ¸ì˜¤ê¸°
    # ê° íŒŒì¼ ê°œë³„ ë‹¤ìš´ë¡œë“œ
    pass
```

---

## ìš”ì•½

### updater.pyì˜ í•µì‹¬
1. **UpdateChecker**: GitHub APIë¡œ ë²„ì „ ì²´í¬
2. **UpdateDownloader**: ìŠ¤íŠ¸ë¦¬ë° ë‹¤ìš´ë¡œë“œ + ì§„í–‰ë¥  ì½œë°±
3. **UpdateInstaller**: ë°°ì¹˜ ìŠ¤í¬ë¦½íŠ¸ë¡œ ì•ˆì „í•œ íŒŒì¼ êµì²´
4. **AutoUpdater**: ì „ì²´ í”„ë¡œì„¸ìŠ¤ í†µí•© ê´€ë¦¬

### update_dialogs.pyì˜ í•µì‹¬
1. **UpdateNotificationDialog**: ë¦´ë¦¬ì¦ˆ ë…¸íŠ¸ í‘œì‹œ + ì‚¬ìš©ì ì„ íƒ
2. **DownloadProgressDialog**: ì§„í–‰ë¥  í‘œì‹œ + ìŠ¤ë ˆë“œ ì•ˆì „
3. **AboutDialog**: ë²„ì „ ì •ë³´ + ë³€ê²½ì‚¬í•­ + ì—…ë°ì´íŠ¸ ë²„íŠ¼

### í†µí•© ì‹œ í•µì‹¬ í¬ì¸íŠ¸
1. PyQt5 ì‹œê·¸ë„/ìŠ¬ë¡¯ìœ¼ë¡œ ìŠ¤ë ˆë“œ ì•ˆì „ì„± ë³´ì¥
2. ë°°ì¹˜ ìŠ¤í¬ë¦½íŠ¸ë¡œ ì‹¤í–‰ ì¤‘ì¸ EXE êµì²´
3. Zone.Identifier ì œê±°ë¡œ Defender ì°¨ë‹¨ ë°©ì§€
4. version.jsonê³¼ GitHub Releases ì—°ë™

---

**ë¬¸ì„œ ë²„ì „**: 1.0.0  
**ì‘ì„±ì¼**: 2025-12-09  
**ë¼ì´ì„ ìŠ¤**: MIT

